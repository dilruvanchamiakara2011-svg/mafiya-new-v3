<!DOCTYPE html>  
<html lang="en">  
<head>  
<meta charset="UTF-8">  
<meta name="viewport" content="width=device-width, initial-scale=1.0">  
<title>SIGN UP - CYBER</title>  
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">  
<style>  
:root{  
  --primary:#00ff88;  
  --secondary:#00aaff;  
  --bg:#0a0a1a;  
}  
body{  
  margin:0;  
  padding:0;  
  font-family:'Orbitron',sans-serif;  
  background:var(--bg);  
  color:#0ff;  
  display:flex;  
  justify-content:center;  
  align-items:center;  
  min-height:100vh;  
  flex-direction:column;  
}  
h2{  
  font-size:2.5rem;  
  background:linear-gradient(90deg,var(--primary),var(--secondary));  
  -webkit-background-clip:text;  
  -webkit-text-fill-color:transparent;  
  margin-bottom:30px;  
  text-shadow:0 0 15px rgba(0,255,136,.3);  
  text-align:center;  
}  
input{  
  width:250px;  
  padding:12px;  
  margin:8px 0;  
  border-radius:8px;  
  border:1px solid var(--primary);  
  background:rgba(0,0,0,.3);  
  color:#0ff;  
  outline:none;  
  font-family:'Orbitron',sans-serif;  
}  
button{  
  width:266px;  
  padding:12px;  
  margin-top:15px;  
  border:none;  
  border-radius:20px;  
  background:linear-gradient(90deg,var(--primary),var(--secondary));  
  color:#000;  
  font-family:'Orbitron',sans-serif;  
  cursor:pointer;  
  letter-spacing:1px;  
  transition:.25s ease;  
}  
button:hover{  
  box-shadow:0 0 20px rgba(0,255,136,.5);  
}  
p{  
  margin-top:20px;  
  font-size:.8rem;  
  text-align:center;  
}  
p a{  
  color:var(--secondary);  
  text-decoration:none;  
}  
</style>  
</head>  
<body>  
  
<h2>SIGN UP</h2>  
<input type="text" placeholder="Username">  
<input type="email" placeholder="Email">  
<input type="password" placeholder="Password">  
<button>SIGN UP</button>  
  
<p>Already have an account? <a href="login.html">LOGIN</a></p>  
  
</body>  
  <script>  
  
    // server.js  
import express from 'express';  
import fetch from 'node-fetch';  
  
const app = express();  
app.use(express.json());  
  
const GITHUB_REPO = 'dilruvanchamikara2011/Mafiya-new-v3-data_base';  
const GITHUB_FILE_PATH = 'users.json';  
const GITHUB_TOKEN = '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';  
  
app.post('/signup', async (req, res) => {  
  const { username, email, password } = req.body;  
  
  // Fetch current file content  
  const fileRes = await fetch(`https://api.github.com/repos/${GITHUB_REPO}/contents/${GITHUB_FILE_PATH}`, {  
    headers: {  
      Authorization: `token ${GITHUB_TOKEN}`,  
      Accept: 'application/vnd.github+json'  
    }  
  });  
  const fileData = await fileRes.json();  
  const sha = fileData.sha;  
  
  // Decode existing content  
  const users = JSON.parse(Buffer.from(fileData.content, 'base64').toString('utf-8'));  
  
  // Add new user  
  users.push({ username, email, password });  
  
  // Commit updated file  
  const updateRes = await fetch(`https://api.github.com/repos/${GITHUB_REPO}/contents/${GITHUB_FILE_PATH}`, {  
    method: 'PUT',  
    headers: {  
      Authorization: `token ${GITHUB_TOKEN}`,  
      Accept: 'application/vnd.github+json'  
    },  
    body: JSON.stringify({  
      message: `Add new user ${username}`,  
      content: Buffer.from(JSON.stringify(users, null, 2)).toString('base64'),  
      sha  
    })  
  });  
  
  if (updateRes.ok) res.json({ success: true });  
  else res.json({ success: false });  
});  
  
app.listen(3000, () => console.log('Server running on port 3000'));  
  
  
    // erro singup  
<button id="signupBtn">SIGN UP</button>  
<script>  
document.getElementById('signupBtn').onclick = async () => {  
  const username = document.querySelector('input[placeholder="Username"]').value;  
  const email = document.querySelector('input[placeholder="Email"]').value;  
  const password = document.querySelector('input[placeholder="Password"]').value;  
  
  const res = await fetch('http://localhost:3000/signup', {  
    method: 'POST',  
    headers: {'Content-Type':'application/json'},  
    body: JSON.stringify({ username, email, password })  
  });  
  const data = await res.json();  
  alert(data.success ? 'Signup successful' : 'Signup failed');  
};  

  
  </script>  
    
</html>  
